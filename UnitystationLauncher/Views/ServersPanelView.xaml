<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:models="clr-namespace:UnitystationLauncher.Models"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             TextBlock.FontSize="18"
             x:Class="UnitystationLauncher.Views.ServersPanelView">
  <UserControl.Background>
    <ImageBrush Source="avares://UnitystationLauncher/Assets/bg.jpg" Stretch="UniformToFill"/>
  </UserControl.Background>
  <UserControl.DataTemplates>
    <DataTemplate DataType="{x:Type models:Server}">
      <Border>
        <DockPanel>
          <TextBlock FontWeight="Bold" DockPanel.Dock="Left" Text="{Binding ServerName}"/>
          <StackPanel Margin="10 0 0 0" DockPanel.Dock="Right" Orientation="Horizontal">
            <TextBlock FontWeight="Bold" Text="{Binding ForkName}"/>
            <TextBlock FontWeight="Bold">:</TextBlock>
            <TextBlock FontWeight="Bold" Text="{Binding BuildVersion}"/>
          </StackPanel>
        </DockPanel>
      </Border>
    </DataTemplate>
    <DataTemplate DataType="{x:Type models:Download}">
      <Border>
        <StackPanel Margin="10 0 0 0">
          <TextBlock>From:</TextBlock>
          <TextBlock FontWeight="Bold" Text="{Binding Url}"/>
          <ProgressBar Value="{Binding Progress^}"/>
          <TextBlock>To:</TextBlock>
          <TextBlock FontWeight="Bold" Text="{Binding RelativeInstallationPath}"/>
        </StackPanel>
      </Border>
    </DataTemplate>
  </UserControl.DataTemplates>

  <Grid ColumnDefinitions="100,70,90,90,60,60,50,50" Margin="1 0 0 0" VerticalAlignment="Top" HorizontalAlignment="Left">
    <Grid.RowDefinitions>
      <RowDefinition Height="25" />
    </Grid.RowDefinitions>
    <Border BorderThickness="1" BorderBrush="Gray" Grid.Column="0" Grid.Row="0" VerticalAlignment="Top" Height="25">
      <TextBlock Text="SERVER" VerticalAlignment="Center" TextAlignment="Center" FontSize="12"/>
    </Border>
    <Border BorderThickness="1" BorderBrush="Gray" Grid.Column="1" Grid.Row="0" VerticalAlignment="Top" Height="25">
      <TextBlock Text="BUILD" VerticalAlignment="Center" TextAlignment="Center" FontSize="12"/>
    </Border>
    <Border BorderThickness="1" BorderBrush="Gray" Grid.Column="2" Grid.Row="0" VerticalAlignment="Top" Height="25">
      <TextBlock Text="MAP" VerticalAlignment="Center" TextAlignment="Center"  FontSize="12"/>
    </Border>
    <Border BorderThickness="1" BorderBrush="Gray" Grid.Column="3" Grid.Row="0" VerticalAlignment="Top" Height="25">
      <TextBlock Text="GAMEMODE" VerticalAlignment="Center" TextAlignment="Center"  FontSize="12"/>
    </Border>
    <Border BorderThickness="1" BorderBrush="Gray" Grid.Column="4" Grid.Row="0" VerticalAlignment="Top" Height="25">
      <TextBlock Text="TIME" VerticalAlignment="Center" TextAlignment="Center"  FontSize="12"/>
    </Border>
    <Border BorderThickness="1" BorderBrush="Gray" Grid.Column="5" Grid.Row="0" VerticalAlignment="Top" Height="25">
      <TextBlock Text="ONLINE" VerticalAlignment="Center" TextAlignment="Center"  FontSize="12"/>
    </Border>
    <Border BorderThickness="1" BorderBrush="Gray" Grid.Column="6" Grid.Row="0" VerticalAlignment="Top" Height="25">
      <TextBlock Text="PING" VerticalAlignment="Center" TextAlignment="Center"  FontSize="12"/>
    </Border>
    <Border BorderThickness="1" BorderBrush="Gray" Grid.Column="7" Grid.Row="0" VerticalAlignment="Top" Height="25">
    </Border>
  </Grid>

  <!--<StackPanel>
        <ProgressBar IsIndeterminate="{Binding ServerManager.Refreshing}" Height="4" MinHeight="1" BorderThickness="0"/>
        <ListBox
          Name="ServerListBox"
          Items="{Binding ServerManager.Servers^}"
          SelectedItem="{Binding SelectedServer}"
          BorderThickness="0"
          Padding="0"/>
  </StackPanel>-->

  <!--<Border Grid.Column="2" BorderThickness="5 0 0 0" BorderBrush="{DynamicResource HighlightBrush}">
      <StackPanel IsVisible="{Binding SelectedServer, Converter={x:Static ObjectConverters.IsNotNull}}">
        <StackPanel DataContext="{Binding SelectedServer}">
          <TextBlock Margin="5" Text="{Binding ServerName}"/>
          <Separator/>
          <Grid Margin="5" ColumnDefinitions="*, *" RowDefinitions="auto,auto,auto,auto,auto">
            <TextBlock Grid.Row="0" Grid.Column="0">Version </TextBlock>
            <StackPanel Grid.Row="0" Grid.Column="1" Orientation="Horizontal">
              <TextBlock Text="{Binding ForkName}"/>
              <TextBlock>:</TextBlock>
              <TextBlock Text="{Binding BuildVersion}"/>
            </StackPanel>

            <TextBlock Grid.Row="1" Grid.Column="0">IP</TextBlock>
            <StackPanel Grid.Row="1" Grid.Column="1" Orientation="Horizontal">
              <TextBlock Text="{Binding ServerIP}"/>
              <TextBlock>:</TextBlock>
              <TextBlock Text="{Binding ServerPort}"/>
            </StackPanel>

            <TextBlock Grid.Row="2" Grid.Column="0">Time </TextBlock>
            <TextBlock Grid.Row="2" Grid.Column="1" Text="{Binding IngameTime}"/>

            <TextBlock Grid.Row="3" Grid.Column="0">Players </TextBlock>
            <TextBlock Grid.Row="3" Grid.Column="1" Text="{Binding PlayerCount}"/>

            <Expander Grid.Row="4" Grid.ColumnSpan="2" Header="Downloads">
              <StackPanel Margin="10 0 0 0">
                <TextBlock Text="{Binding WinDownload}"/>
                <TextBlock Text="{Binding OSXDownload}"/>
                <TextBlock Text="{Binding LinuxDownload}"/>
              </StackPanel>
            </Expander>
          </Grid>
          <StackPanel Margin="5">
            <Button Command="{Binding Start}" Padding="5">Play</Button>
          </StackPanel>
        </StackPanel>
        <StackPanel>
          <Button Command="{Binding Download}" IsVisible="{Binding SelectedDownload^, Converter={x:Static ObjectConverters.IsNull}}" Padding="5" Background="Transparent">Download</Button>
          <ContentControl Content="{Binding SelectedDownload^}"/>
        </StackPanel>
      </StackPanel>
    </Border>-->
</UserControl>
